{"version":3,"sources":["stylefy/impl/styles.cljc"],"mappings":"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","names":["stylefy.impl.styles/global-vendor-prefixes","cljs.core.atom","stylefy.impl.styles/add-global-vendors","style","cljs.core.merge","clojure.set.union","cljs.core/deref","p__106636","map__106637","cljs.core/--destructure-map","cljs.core.get","stylefy.impl.styles/create-style!","props","hash","style-created-handler","style-css","stylefy.impl.conversion.style__GT_css","G__106638","seq__106639","cljs.core/seq","chunk__106640","count__106641","i__106642","temp__5823__auto__","cljs.core/chunked-seq?","c__5548__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","sub-style","cljs.core/vals","G__106647","G__106648","G__106649","G__106650","stylefy.impl.hashing/hash-style","stylefy.impl.styles/class-into-string","class","cljs.core/Keyword","cljs.core/name","cljs.core/vector?","clojure.string.join","cljs.core.remove","cljs.core/nil?","cljs.core.mapv","stylefy.impl.styles/validate-class-definition","origin","js/Error","p1__106653#","cljs.core/every?","cljs.core.pr_str","stylefy.impl.styles/prepare-style-return-value","style-hash","options","stylefy.impl.log/warn","style-with-classes","html-attributes","stylefy.impl.utils/remove-special-keywords","html-attributes-class","html-attributes-inline-style","class-as-string","style-with-classes-as-string","final-class","clojure.string/trim","final-html-attributes","stylefy.impl.styles/style-return-value","return-map","or__5025__auto__","cljs.core/empty?","stylefy.impl.dom/style-in-dom?","stylefy.impl.dom/dom","contains-media-queries?","contains-feature-queries?","contains-manual-mode?","contains-scoping?","excluded-modes","modes","mode-names","cljs.core/map?","cljs.core/set","cljs.core/keys","cljs.core.map","contains-modes-not-excluded?","cljs.core.filter","cljs.core.comp","cljs.core/not","inline-style","stylefy.impl.conversion/garden-units->css","inline-style-not-supported?","stylefy.impl.styles/use-style!","stylefy.impl.state/check-stylefy-initialisation","style-with-global-vendors","already-created","stylefy.impl.dom/style-by-hash","stylefy.impl.styles/use-sub-style!","resolved-sub-style","var_args","args__5755__auto__","len__5749__auto__","i__5750__auto__","argseq__5756__auto__","cljs.core/IndexedSeq","stylefy.impl.styles/sub-style","seq106679","G__106680","self__5734__auto__","sub-styles","p1__106677#","p2__106678#","cljs.core.reduce","cljs.core.get_in","G__106682","stylefy.impl.styles/prepare-styles","p__106685","map__106686","styles","stylefy.impl.styles.prepare_styles","request-dom-update-after-done?","_options","seq__106687","chunk__106688","count__106689","i__106690","stylefy.impl.dom/add-style","stylefy.impl.dom/update-dom-if-needed","stylefy.impl.styles/init-global-vendor-prefixes","global-vendor-prefixes-options","cljs.core/reset!"],"sourcesContent":["(ns stylefy.impl.styles\n  (:require [clojure.string :as str]\n            #?(:cljs [stylefy.impl.dom :as dom])\n            [stylefy.impl.hashing :as hashing]\n            [stylefy.impl.utils :as utils]\n            [stylefy.impl.state :as state]\n            [stylefy.impl.conversion :as conversion]\n            [stylefy.impl.log :as log]\n            [clojure.set :as set]))\n\n(def global-vendor-prefixes (atom {:stylefy.core/vendors #{}\n                                   :stylefy.core/auto-prefix #{}}))\n\n(defn- add-global-vendors [style]\n  (merge style\n         {:stylefy.core/vendors (set/union (:stylefy.core/vendors @global-vendor-prefixes)\n                                           (:stylefy.core/vendors style))\n          :stylefy.core/auto-prefix (set/union (:stylefy.core/auto-prefix @global-vendor-prefixes)\n                                               (:stylefy.core/auto-prefix style))}))\n\n(defn- create-style! [{:keys [props hash] :as style} style-created-handler]\n  (let [style-css (conversion/style->css style)]\n    (style-created-handler {:css style-css :hash hash})\n\n    ; Create sub-styles (if any)\n    (doseq [sub-style (vals (:stylefy.core/sub-styles props))]\n      (create-style!\n        {:props sub-style :hash (hashing/hash-style sub-style)}\n        style-created-handler))))\n\n(defn- class-into-string\n  \"Return class definition as string, or nil if the argument is nil.\"\n  [class]\n  (when class\n    (cond\n     (string? class) class\n     (keyword? class) (name class)\n     (vector? class) (str/join \" \"\n                               (remove nil? (mapv class-into-string class))))))\n\n(defn validate-class-definition [class origin]\n  (assert (or (nil? class)\n              (string? class)\n              (keyword? class)\n              (and (vector? class)\n                   (every? #(or (string? %) (keyword? %) (nil? %)) class)))\n          (str \"Unsupported \" origin \" type. It should be nil, keyword, string or vector of strings/keywords). Got: \" (pr-str class))))\n\n(defn- prepare-style-return-value\n  \"Given a style, hash and options, returns HTML attributes for a Hiccup component,\n   or nil if there are not any attributes.\"\n  [style style-hash options]\n\n  (when (:stylefy.core/with-classes options)\n    (log/warn \":stylefy.core/with-classes is deprecated in options map (since 1.3.0, removed in 2.0.0), use :class instead.\"))\n\n  (let [style-with-classes (:stylefy.core/with-classes style)\n        html-attributes (utils/remove-special-keywords options)\n        html-attributes-class (:class html-attributes)\n        html-attributes-inline-style (:style html-attributes)]\n\n    (validate-class-definition html-attributes-class \":class\")\n    (validate-class-definition style-with-classes \":stylefy.core/with-classes\")\n    (assert (nil? html-attributes-inline-style) \"HTML attribute :style is not supported in options map. Instead, you should provide your style definitions as the first argument when calling use-style.\")\n\n    (let [class-as-string (class-into-string html-attributes-class)\n          style-with-classes-as-string (class-into-string style-with-classes)\n          final-class (str/trim\n                        (str\n                          style-hash \" \"\n                          (str/join \" \" (remove nil? [class-as-string style-with-classes-as-string]))))\n          final-html-attributes (merge\n                                  html-attributes\n                                  (when (seq final-class) {:class final-class}))]\n\n      (when (seq final-html-attributes)\n        final-html-attributes))))\n\n(defn style-return-value [style style-hash options]\n  (let [return-map (prepare-style-return-value style style-hash options)]\n    #?(:cljs (if (or (empty? style)\n                     (dom/style-in-dom? @dom/dom style-hash))\n               return-map\n               ; The style definition has not been added into the DOM yet, so return the style props\n               ; as inline style. Inline style gets replaced soon as the style definition\n               ; is added into the DOM and the component re-renders itself.\n               ; However, if there are media queries, specific mode definitions etc., inline styling is probably\n               ; going to look wrong. In that case, hide the component completely until the DOM is ready.\n               (let [contains-media-queries? (some? (:stylefy.core/media style))\n                     contains-feature-queries? (some? (:stylefy.core/supports style))\n                     contains-manual-mode? (some? (:stylefy.core/manual style))\n                     contains-scoping? (some? (:stylefy.core/scope style))\n                     excluded-modes #{:hover}\n                     modes (:stylefy.core/mode style)\n                     mode-names (cond\n                                  (map? modes) (set (keys modes))\n                                  (vector? modes) (set (map first modes))\n                                  :else #{})\n                     contains-modes-not-excluded? (seq (filter (comp not excluded-modes) mode-names))\n                     inline-style (-> style\n                                      (utils/remove-special-keywords)\n                                      (conversion/garden-units->css))\n                     inline-style-not-supported? (or contains-media-queries?\n                                                     contains-feature-queries?\n                                                     contains-manual-mode?\n                                                     contains-scoping?\n                                                     contains-modes-not-excluded?)]\n                 (if inline-style-not-supported?\n                   (merge return-map {:style (merge inline-style {:visibility \"hidden\"})})\n                   (merge return-map {:style inline-style}))))\n       :clj  return-map)))\n\n(defn use-style! [style options style-created-handler]\n  (state/check-stylefy-initialisation)\n  (let [style-with-global-vendors (when-not (empty? style) (add-global-vendors style))\n        style-hash (hashing/hash-style style-with-global-vendors)\n        already-created #?(:cljs (dom/style-by-hash @dom/dom style-hash)\n                           :clj false)] ; TODO Read from css-in-context?\n\n    (when (and (seq style-with-global-vendors)\n               (some? style-hash)\n               (not already-created))\n      (create-style!\n        {:props style-with-global-vendors :hash style-hash}\n        style-created-handler))\n\n    (style-return-value style-with-global-vendors style-hash options)))\n\n(defn use-sub-style! [style sub-style options style-created-handler]\n  (let [resolved-sub-style (get (:stylefy.core/sub-styles style) sub-style)]\n    (if resolved-sub-style\n      (use-style! resolved-sub-style options style-created-handler)\n      (log/warn (str \"Sub-style \" (pr-str sub-style) \" not found in style: \" (pr-str style))))))\n\n(defn sub-style\n  [style & sub-styles]\n  (let [resolved-sub-style (reduce #(get-in %1 [:stylefy.core/sub-styles %2])\n                                   style\n                                   sub-styles)]\n\n    (if resolved-sub-style\n      resolved-sub-style\n      (log/warn (str \"Sub-style \" (pr-str sub-styles) \" not found in style: \" (pr-str style))))))\n\n#?(:cljs\n   (defn prepare-styles\n     ([styles]\n      (prepare-styles styles {:request-dom-update-after-done? true}))\n     ([styles {:keys [request-dom-update-after-done?] :as _options}]\n      (let [styles (remove nil? styles)]\n\n        (doseq [style styles]\n          (use-style! style {} (fn [style] (dom/add-style @dom/dom style)))\n          (when-let [sub-styles (vals (:stylefy.core/sub-styles style))]\n            (prepare-styles sub-styles {:request-dom-update-after-done? false}))))\n\n      (when request-dom-update-after-done?\n        (dom/update-dom-if-needed @dom/dom)))))\n\n(defn init-global-vendor-prefixes [options]\n  (let [global-vendor-prefixes-options (:global-vendor-prefixes options)]\n    (reset! global-vendor-prefixes\n            {:stylefy.core/vendors (:stylefy.core/vendors global-vendor-prefixes-options)\n             :stylefy.core/auto-prefix (:stylefy.core/auto-prefix global-vendor-prefixes-options)})))\n"],"x_google_ignoreList":[0]}