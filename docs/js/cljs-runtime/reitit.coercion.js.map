{"version":3,"sources":["reitit/coercion.cljc"],"mappings":"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","names":["reitit$coercion$Coercion$_get_name$dyn","x__5373__auto__","m__5374__auto__","reitit.coercion/-get-name","goog/typeOf","m__5372__auto__","cljs.core/missing-protocol","reitit$coercion$Coercion$_get_options$dyn","reitit.coercion/-get-options","reitit$coercion$Coercion$_get_apidocs$dyn","reitit.coercion/-get-apidocs","reitit$coercion$Coercion$_get_model_apidocs$dyn","reitit.coercion/-get-model-apidocs","reitit$coercion$Coercion$_compile_model$dyn","reitit.coercion/-compile-model","reitit$coercion$Coercion$_open_model$dyn","reitit.coercion/-open-model","reitit$coercion$Coercion$_encode_error$dyn","reitit.coercion/-encode-error","reitit$coercion$Coercion$_request_coercer$dyn","reitit.coercion/-request-coercer","reitit$coercion$Coercion$_response_coercer$dyn","reitit.coercion/-response-coercer","reitit$coercion$Coercion$_query_string_coercer$dyn","reitit.coercion/-query-string-coercer","reitit.coercion/Coercion","this","specification","data","model","options","name","error","type","this__5323__auto__","k__5324__auto__","this__5325__auto__","k103577","else__5326__auto__","G__103590","cljs.core.get","__extmap","this__5343__auto__","f__5344__auto__","init__5345__auto__","cljs.core.reduce","ret__5346__auto__","p__103604","vec__103607","k__5347__auto__","cljs.core.nth","v__5348__auto__","this__5338__auto__","writer__5339__auto__","opts__5340__auto__","pr-pair__5341__auto__","keyval__5342__auto__","cljs.core/pr-sequential-writer","cljs.core.concat","G__103576","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__5321__auto__","__meta","this__5318__auto__","__hash","this__5327__auto__","cljs.core/count","this__5319__auto__","h__5134__auto__","coll__5320__auto__","cljs.core/hash-unordered-coll","this103578","other103579","cljs.core._EQ_","this__5333__auto__","k__5334__auto__","cljs.core/contains?","cljs.core.dissoc","cljs.core/-with-meta","cljs.core.into","cljs.core/not-empty","this__5330__auto__","this__5331__auto__","k__5332__auto__","pred__103645","cljs.core/keyword-identical?","expr__103646","cljs.core.assoc","this__5336__auto__","cljs.core/seq","this__5322__auto__","this__5328__auto__","entry__5329__auto__","cljs.core/vector?","cljs.core/-nth","cljs.core/-conj","reitit.coercion/CoercionError","this__5369__auto__","cljs.core/List","writer__5370__auto__","cljs.core/-write","G__103587","extmap__5365__auto__","G__103669","cljs.core/record?","reitit.coercion/->CoercionError","reitit.coercion/map->CoercionError","reitit.coercion/error?","x","k103673","G__103685","cljs.core/Keyword","in","style","keywordize?","open?","p__103692","vec__103693","cljs.core/PersistentVector","G__103672","this103674","other103675","G__103744","pred__103745","expr__103746","cljs.core/MapEntry","reitit.coercion/ParameterCoercion","G__103676","G__103753","reitit.coercion/->ParameterCoercion","reitit.coercion/map->ParameterCoercion","reitit.coercion/default-parameter-coercion","reitit.coercion/request-coercion-failed!","result","coercion","value","request","serialize-failed-result","cljs.core.ex_info","cljs.core.pr_str","cljs.core/transient","$","cljs.core/conj!","cljs.core.assoc_BANG_","cljs.core/persistent!","reitit.coercion/response-coercion-failed!","response","reitit.coercion/extract-request-format-default","reitit.coercion/-identity-coercer","_format","p__103766","map__103767","cljs.core/--destructure-map","reitit.coercion/request-coercer","extract-request-format","parameter-coercion","skip","temp__5823__auto__","map__103771","transform","cljs.core.comp","clojure.walk/keywordize-keys","cljs.core/identity","->open","p1__103762#","coercer","format","reitit.coercion/get-default","request-or-response","or__5025__auto__","G__103776","p__103777","p__103778","map__103779","map__103780","reitit.coercion/content-request-coercer","content","body","format->coercer","G__103785","iter__5503__auto__","s__103787","cljs.core/LazySeq","cljs.core/chunked-seq?","c__5501__auto__","size__5502__auto__","b__103789","cljs.core/chunk-buffer","i__103788","vec__103795","map__103798","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__103786","cljs.core/chunk-rest","vec__103801","cljs.core/first","map__103804","cljs.core/cons","cljs.core/rest","schema","cljs.core.filter","cljs.core/second","reitit.coercion/extract-response-format-default","_","p__103819","p__103820","map__103824","map__103825","reitit.coercion/response-coercer","extract-response-format","G__103827","s__103829","b__103831","i__103830","vec__103841","map__103844","iter__103828","vec__103850","map__103853","reitit.coercion/encode-error","cljs.core.update","reitit.coercion/coerce-request","coercers","cljs.core/reduce-kv","acc","k","reitit.impl/fast-assoc","reitit.coercion/coerce-response","temp__5821__auto__","G__103887","var_args","G__103895","reitit.coercion/request-coercers","js/Error","parameters","opts","G__103908","s__103910","b__103912","i__103911","vec__103923","iter__103909","vec__103927","v","route-request","crc","G__103937","cljs.core/PersistentArrayMap","rcs","reitit.coercion.request_coercers","G__103941","and__5023__auto__","cljs.core/vec","reitit.coercion/response-coercers","responses","G__103942","s__103944","b__103946","i__103945","vec__103948","iter__103943","vec__103951","status","cljs.core/int?","reitit.coercion/-compile-parameters","p1__103956#","reitit.impl/path-update","cljs.core/any?","p__103957","vec__103958","map__103961","reitit.coercion/compile-request-coercers","map__103962","reitit.coercion/coerce!","match","reitit.coercion/coerce-query-params","query-params","G__103974","reitit.coercion/match->path","reitit.core.match__GT_path","cljs.core/chunk-first"],"sourcesContent":["(ns reitit.coercion\n  (:require [#?(:clj reitit.walk :cljs clojure.walk) :as walk]\n            [reitit.core :as r]\n            [reitit.impl :as impl])\n  #?(:clj\n     (:import (java.io Writer))))\n\n;;\n;; Protocol\n;;\n\n(defprotocol Coercion\n  \"Pluggable coercion protocol\"\n  (-get-name [this] \"Keyword name for the coercion\")\n  (-get-options [this] \"Coercion options\")\n  (-get-apidocs [this specification data] \"Returns api documentation\")\n  ;; TODO doc options:\n  (-get-model-apidocs [this specification model options] \"Convert model into a format that can be used in api docs\")\n  (-compile-model [this model name] \"Compiles a model\")\n  (-open-model [this model] \"Returns a new model which allows extra keys in maps\")\n  (-encode-error [this error] \"Converts error in to a serializable format\")\n  (-request-coercer [this type model] \"Returns a `value format => value` request coercion function\")\n  (-response-coercer [this model] \"Returns a `value format => value` response coercion function\")\n  (-query-string-coercer [this model] \"Returns a `value => value` query string coercion function\"))\n\n#?(:clj\n   (defmethod print-method ::coercion [coercion ^Writer w]\n     (.write w (str \"#Coercion{:name \" (-get-name coercion) \"}\"))))\n\n(defrecord CoercionError [])\n\n(defn error? [x]\n  (instance? CoercionError x))\n\n;;\n;; coercer\n;;\n\n(defrecord ParameterCoercion [in style keywordize? open?])\n\n(def ^:no-doc default-parameter-coercion\n  {:query (->ParameterCoercion :query-params :string true true)\n   :body (->ParameterCoercion :body-params :body false false)\n   :form (->ParameterCoercion :form-params :string true true)\n   :header (->ParameterCoercion :headers :string true true)\n   :path (->ParameterCoercion :path-params :string true true)\n   :fragment (->ParameterCoercion :fragment :string true true)})\n\n(defn ^:no-doc request-coercion-failed! [result coercion value in request serialize-failed-result]\n  (throw\n   (ex-info\n    (if serialize-failed-result\n      (str \"Request coercion failed: \" (pr-str result))\n      \"Request coercion failed\")\n    (-> {}\n        transient\n        (as-> $ (reduce conj! $ result))\n        (assoc! :type ::request-coercion)\n        (assoc! :coercion coercion)\n        (assoc! :value value)\n        (assoc! :in [:request in])\n        (assoc! :request request)\n        persistent!))))\n\n(defn ^:no-doc response-coercion-failed! [result coercion value request response serialize-failed-result]\n  (throw\n   (ex-info\n    (if serialize-failed-result\n      (str \"Response coercion failed: \" (pr-str result))\n      \"Response coercion failed\")\n    (-> {}\n        transient\n        (as-> $ (reduce conj! $ result))\n        (assoc! :type ::response-coercion)\n        (assoc! :coercion coercion)\n        (assoc! :value value)\n        (assoc! :in [:response :body])\n        (assoc! :request request)\n        (assoc! :response response)\n        persistent!))))\n\n(defn extract-request-format-default [request]\n  (-> request :muuntaja/request :format))\n\n(defn -identity-coercer [value _format]\n  value)\n\n;; TODO: support faster key walking, walk/keywordize-keys is quite slow...\n(defn request-coercer [coercion type model {::keys [extract-request-format parameter-coercion serialize-failed-result skip]\n                                            :or {extract-request-format extract-request-format-default\n                                                 parameter-coercion default-parameter-coercion\n                                                 skip #{}}}]\n  (if coercion\n    (when-let [{:keys [keywordize? open? in style]} (parameter-coercion type)]\n      (when-not (skip style)\n        (let [transform (comp (if keywordize? walk/keywordize-keys identity) in)\n              ->open (if open? #(-open-model coercion %) identity)\n              coercer (-request-coercer coercion style (->open model))]\n          (when coercer\n            (fn [request]\n              (let [value (transform request)\n                    format (extract-request-format request)\n                    result (coercer value format)]\n                (if (error? result)\n                  (request-coercion-failed! result coercion value in request serialize-failed-result)\n                  result)))))))))\n\n(defn get-default [request-or-response]\n  (or (-> request-or-response :content :default)\n      (some->> request-or-response :body (assoc {} :schema))))\n\n(defn content-request-coercer [coercion {:keys [content body]} {::keys [extract-request-format serialize-failed-result]\n                                                                :or {extract-request-format extract-request-format-default}}]\n  (when coercion\n    (let [in :body-params\n          format->coercer (some->> (concat (when body\n                                             [[:default (-request-coercer coercion :body body)]])\n                                           (for [[format {:keys [schema]}] content, :when schema]\n                                             [format (-request-coercer coercion :body schema)]))\n                                   (filter second) (seq) (into (array-map)))]\n      (when format->coercer\n        (fn [request]\n          (let [value (in request)\n                format (extract-request-format request)\n                coercer (or (format->coercer format)\n                            (format->coercer :default)\n                            -identity-coercer)\n                result (coercer value format)]\n            (if (error? result)\n              (request-coercion-failed! result coercion value in request serialize-failed-result)\n              result)))))))\n\n(defn extract-response-format-default [request _]\n  (-> request :muuntaja/response :format))\n\n(defn response-coercer [coercion {:keys [content body]} {:keys [extract-response-format serialize-failed-result]\n                                                         :or {extract-response-format extract-response-format-default}}]\n  (if coercion\n    (let [format->coercer (some->> (concat (when body\n                                             [[:default (-response-coercer coercion body)]])\n                                           (for [[format {:keys [schema]}] content, :when schema]\n                                             [format (-response-coercer coercion schema)]))\n                                   (filter second) (seq) (into (array-map)))]\n      (when format->coercer\n        (fn [request response]\n          (let [format (extract-response-format request response)\n                value (:body response)\n                coercer (or (format->coercer format)\n                            (format->coercer :default)\n                            -identity-coercer)\n                result (coercer value format)]\n            (if (error? result)\n              (response-coercion-failed! result coercion value request response serialize-failed-result)\n              result)))))))\n\n(defn encode-error [data]\n  (-> data\n      (dissoc :request :response)\n      (update :coercion -get-name)\n      (->> (-encode-error (:coercion data)))))\n\n(defn coerce-request [coercers request]\n  (reduce-kv\n   (fn [acc k coercer]\n     (impl/fast-assoc acc k (coercer request)))\n   {} coercers))\n\n(defn coerce-response [coercers request response]\n  (if response\n    (if-let [coercer (or (coercers (:status response)) (coercers :default))]\n      (impl/fast-assoc response :body (coercer request response))\n      response)))\n\n(defn request-coercers\n  ([coercion parameters opts]\n   (some->> (for [[k v] parameters, :when v]\n              [k (request-coercer coercion k v opts)])\n            (filter second) (seq) (into {})))\n  ([coercion parameters route-request opts]\n   (let [crc (when route-request (some->> (content-request-coercer coercion route-request opts) (array-map :request)))\n         rcs (request-coercers coercion parameters (cond-> opts route-request (assoc ::skip #{:body})))]\n     (if (and crc rcs) (into crc (vec rcs)) (or crc rcs)))))\n\n(defn response-coercers [coercion responses opts]\n  (some->> (for [[status model] responses]\n             (do\n               (when-not (int? status)\n                 (throw (ex-info \"Response status must be int\" {:status status})))\n               [status (response-coercer coercion model opts)]))\n           (filter second) (seq) (into {})))\n\n(defn -compile-parameters [data coercion]\n  (impl/path-update data [[[:parameters any?] #(-compile-model coercion % nil)]]))\n\n;;\n;; integration\n;;\n\n(defn compile-request-coercers\n  \"A router :compile implementation which reads the `:parameters`\n  and `:coercion` data to both compile the schemas and create compiled coercers\n  into Match under `:result with the following keys:\n\n   | key       | description\n   | ----------|-------------\n   | `:data`   | data with compiled schemas\n   | `:coerce` | function of `Match -> coerced parameters` to coerce parameters\n\n  A pre-requisite to use [[coerce!]].\n\n  NOTE: this is not needed with ring/http, where the coercion compilation is\n  managed in the request coercion middleware/interceptors.\"\n  [[_ {:keys [parameters coercion] :as data}] opts]\n  (if (and parameters coercion)\n    (let [{:keys [parameters] :as data} (-compile-parameters data coercion)]\n      {:data data\n       :coerce (request-coercers coercion parameters opts)})))\n\n(defn coerce!\n  \"Returns a map of coerced input parameters using pre-compiled coercers in `Match`\n  under path `[:result :coerce]` (provided by [[compile-request-coercers]].\n  Throws `ex-info` if parameters can't be coerced. If coercion or parameters\n  are not defined, returns `nil`\"\n  [match]\n  (if-let [coercers (-> match :result :coerce)]\n    (coerce-request coercers match)))\n\n(defn coerce-query-params\n  \"Uses an input schema and coercion implementation from the given match to\n  encode query-parameters map.\n\n  If no match, no input schema or coercion implementation, just returns the\n  original parameters map.\"\n  [match query-params]\n  (when query-params\n    (let [coercion (-> match :data :coercion)\n          schema (when coercion\n                   (-compile-model coercion (-> match :data :parameters :query) nil))\n          coercer (when (and schema coercion)\n                    (-query-string-coercer coercion schema))]\n      (if coercer\n        (let [result (coercer query-params :default)]\n          (if (error? result)\n            (throw (ex-info (str \"Query parameters coercion failed\")\n                            result))\n            result))\n        query-params))))\n\n(defn match->path\n  \"Create routing path from given match and optional query-parameters map.\n\n  Query-parameters are encoded using the input schema and coercion implementation.\"\n  ([match]\n   (r/match->path match))\n  ([match query-params]\n   (r/match->path match (coerce-query-params match query-params))))\n"],"x_google_ignoreList":[0]}